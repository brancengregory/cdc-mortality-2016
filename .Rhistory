library(tidyverse)
###Import CDC Data and Set Var Types
VS16MORT <- read_csv("VS16MORT.csv", col_types = cols(Age_Value = col_integer(),
Race = col_integer()))
###Vector of ICD10 Alcohol Related Mortality Causes
ALC_ICD10 <- c("K70", "F10", "E244", "G312", "G621", "G721", "I426", "K292", "K852",
"K860", "R780", "X45", "X65", "Y15")
###Index of Obs with Matching Alcohol Related Mortality Causes
ALC_index <- NULL
for (i in 1:length(ALC_ICD10)) {
ALC_index <- c(ALC_index, grep(paste0("^", ALC_ICD10[i], sep = ""),
VS16MORT[,"ICD10"][[1]]))
}
ALC_index <- sort(unique(ALC_index))
rm(i)
###Aggregate various Asian races into single group
for (i in 1:nrow(VS16MORT)) {
if (VS16MORT$Race[i]>=4){
VS16MORT$Race[i] <- 4
}
}
rm(i)
###Subset of Mortalities Related to Alcohol
MORT_ALC <- VS16MORT %>%
filter(1:nrow(VS16MORT) %in% ALC_index)
###Proportion of Total Mortalities Related to Alcohol, by Race
(MORT_ALC$Race %>% table / VS16MORT$Race %>% table) %>%
barplot()
